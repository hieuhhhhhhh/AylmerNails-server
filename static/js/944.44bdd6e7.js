"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[944],{9944:function(e,a,n){n.r(a),n.d(a,{default:function(){return h}});n(4114);var t=n(6768),u=n(5130),r=n(4232),l=n(144),o=n(1387),s=n(7414);async function d(e,a,n,t){try{try{e=(0,s.l)(e,"CA").number}catch(u){return{message:"Invalid phone number"}}const r="",l=await fetch(`${r}/api/authentication/create_user`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_num:e,password:a,first_name:n,last_name:t})}),o=await l.json(),d=o.user_id,i=o.message;return{userId:d,message:i}}catch(u){return console.error("Unexpected Error: ",u),{message:"Unexpected Error"}}}const i={id:"layout"},c={id:"msg"};var p={__name:"CreateAccount",setup(e){const a=(0,o.rd)(),n=(0,l.KR)(""),s=(0,l.KR)(""),p=(0,l.KR)(""),v=(0,l.KR)(""),m=(0,l.KR)("");async function h(){const{userId:e,message:t}=await d(n.value,s.value,p.value,v.value);e?a.push(`/users/${e}`):m.value=t}return(e,a)=>((0,t.uX)(),(0,t.CE)("div",i,[(0,t.Lk)("form",{onSubmit:(0,u.D$)(h,["prevent"])},[(0,t.Lk)("div",null,[(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),placeholder:"First Name",required:""},null,512),[[u.Jo,p.value]]),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>v.value=e),placeholder:"Last Name",required:""},null,512),[[u.Jo,v.value]])]),(0,t.Lk)("div",null,[(0,t.bo)((0,t.Lk)("input",{type:"tel","onUpdate:modelValue":a[2]||(a[2]=e=>n.value=e),placeholder:"Phone Number",required:""},null,512),[[u.Jo,n.value]])]),(0,t.Lk)("div",null,[(0,t.bo)((0,t.Lk)("input",{type:"password","onUpdate:modelValue":a[3]||(a[3]=e=>s.value=e),placeholder:"New Password",required:""},null,512),[[u.Jo,s.value]])]),(0,t.Lk)("div",c,(0,r.v_)(m.value),1),a[4]||(a[4]=(0,t.Lk)("button",{class:"greenBtn"},"Add User",-1))],32)]))}},v=n(1241);const m=(0,v.A)(p,[["__scopeId","data-v-37c8871a"]]);var h=m}}]);
//# sourceMappingURL=944.44bdd6e7.js.map