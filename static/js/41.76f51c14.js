"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[41],{1041:function(e,n,o){o.r(n),o.d(n,{default:function(){return b}});o(4114);var t=o(6768),a=o(5130),r=o(4232),l=o(144),u=o(7165),s=o(7414);async function i(e,n,o){try{try{e=(0,s.l)(e,"CA").number,console.log("phoneNum: ",e)}catch(t){throw new Error("Invalid Phone Number")}const a="",r=await fetch(`${a}/api/authentication/log_in`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_num:e,password:n,remember_me:o})}),l=await r.json();if(r.ok){const e=(0,u.je)();return e.setMyProfile({token:l.token,role:l.user_role}),!0}return console.log("Failed to log in, message: ",l.message),{message:l.message}}catch(t){return console.error("Unexpected Error: ",t),{message:t.message}}}var c=o(1387);const d={id:"layout"},p={id:"msg"},m={};var v=Object.assign(m,{__name:"LogIn",setup(e){const n=(0,c.rd)(),o=(0,l.KR)(""),u=(0,l.KR)(""),s=(0,l.KR)(""),m=(0,l.KR)(!1);async function v(){const{message:e}=await i(o.value,u.value,m.value);if(e)return s.value=e,void(u.value="");n.push("/")}return(e,n)=>{const l=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",d,[(0,t.Lk)("form",{onSubmit:(0,a.D$)(v,["prevent"])},[(0,t.Lk)("div",null,[(0,t.bo)((0,t.Lk)("input",{type:"tel","onUpdate:modelValue":n[0]||(n[0]=e=>o.value=e),placeholder:"Phone Number",required:""},null,512),[[a.Jo,o.value]])]),(0,t.Lk)("div",null,[(0,t.bo)((0,t.Lk)("input",{type:"password","onUpdate:modelValue":n[1]||(n[1]=e=>u.value=e),placeholder:"Password",required:""},null,512),[[a.Jo,u.value]])]),(0,t.Lk)("label",null,[(0,t.bo)((0,t.Lk)("input",{id:"check",type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=e=>m.value=e)},null,512),[[a.lH,m.value]]),n[3]||(n[3]=(0,t.eW)(" Remember me next time "))]),(0,t.Lk)("div",p,(0,r.v_)(s.value),1),n[6]||(n[6]=(0,t.Lk)("button",{class:"blueBtn"},"Log in",-1)),(0,t.bF)(l,{to:"/forgot_password"},{default:(0,t.k6)((()=>n[4]||(n[4]=[(0,t.eW)("Forgot Password")]))),_:1}),(0,t.bF)(l,{to:"/signup"},{default:(0,t.k6)((()=>n[5]||(n[5]=[(0,t.eW)("Create new Account")]))),_:1})],32)])}}}),k=o(1241);const g=(0,k.A)(v,[["__scopeId","data-v-57793c86"]]);var b=g}}]);
//# sourceMappingURL=41.76f51c14.js.map