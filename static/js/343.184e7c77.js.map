{"version":3,"file":"js/343.184e7c77.js","mappings":"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","sources":["webpack://frontend/./src/lib/formatPhone.js","webpack://frontend/./src/lib/secsToHours.js","webpack://frontend/./src/lib/unixTimeToReminder.js","webpack://frontend/./src/lib/unixToReadable.js","webpack://frontend/./src/views/users/apis/banUnbanPhoneNum.js","webpack://frontend/./src/views/users/User.vue","webpack://frontend/./src/views/users/apis/fetchUserDetails.js","webpack://frontend/./src/views/users/comps/UserInfo.vue","webpack://frontend/./src/views/users/comps/drawer/Parent.vue","webpack://frontend/./src/views/users/comps/drawer/Drawer.vue","webpack://frontend/./src/views/users/comps/drawer/Drawer.vue?c080","webpack://frontend/./src/views/users/apis/updateUserRole.js","webpack://frontend/./src/views/users/comps/drawer/ChangeUserRole.vue","webpack://frontend/./src/views/users/comps/drawer/ChangeUserRole.vue?bccb","webpack://frontend/./src/views/users/comps/drawer/Parent.vue?dbca","webpack://frontend/./src/views/users/comps/UserInfo.vue?a52b","webpack://frontend/./src/views/users/comps/UserAppos.vue","webpack://frontend/./src/views/users/comps/UserAppos.vue?83df","webpack://frontend/./src/views/users/User.vue?f003"],"sourcesContent":["export default function formatPhone(rawPhone) {\r\n  if (rawPhone.slice(0, 2) !== \"+1\") return rawPhone;\r\n  console.log(\"calling\");\r\n  if (!rawPhone) return;\r\n  let formatted = \"\";\r\n\r\n  rawPhone = rawPhone.slice(2);\r\n\r\n  if (rawPhone.length <= 3) {\r\n    formatted = rawPhone;\r\n  } else if (rawPhone.length <= 6) {\r\n    formatted = `${rawPhone.slice(0, 3)} ${rawPhone.slice(3)}`;\r\n  } else {\r\n    formatted = `${rawPhone.slice(0, 3)} ${rawPhone.slice(\r\n      3,\r\n      6\r\n    )} ${rawPhone.slice(6)}`;\r\n  }\r\n\r\n  // return result\r\n  return formatted;\r\n}\r\n","import { DateTime } from \"luxon\";\r\n\r\nexport default function secsToHours(secs) {\r\n  console.log(\"calling\");\r\n\r\n  return DateTime.fromObject({ hour: 0 })\r\n    .plus({ seconds: secs })\r\n    .toFormat(\"h:mm a\");\r\n}\r\n","import { DateTime } from \"luxon\";\r\n\r\nexport default function unixTimeToReminder(unix) {\r\n  console.log(\"calling\");\r\n\r\n  if (!unix) {\r\n    return;\r\n  }\r\n\r\n  const inputDate = DateTime.fromSeconds(unix).startOf(\"day\");\r\n  const today = DateTime.local().startOf(\"day\");\r\n\r\n  const diff = inputDate.diff(today, \"days\").toObject();\r\n  const daysDiff = Math.round(diff.days);\r\n\r\n  if (inputDate.equals(today)) {\r\n    return \"Today\";\r\n  }\r\n  if (daysDiff === 1) {\r\n    return \"Tomorrow\";\r\n  } else if (daysDiff === -1) {\r\n    return \"Yesterday\";\r\n  }\r\n\r\n  const isFuture = daysDiff > 0 ? \"next\" : \"last\";\r\n\r\n  if (Math.abs(daysDiff) >= 30) {\r\n    return `${isFuture} ${Math.abs(Math.round(daysDiff / 30))}m`;\r\n  } else if (Math.abs(daysDiff) >= 7) {\r\n    return `${isFuture} ${Math.abs(Math.round(daysDiff / 7))}w`;\r\n  } else {\r\n    return `${isFuture} ${Math.abs(daysDiff)}d`;\r\n  }\r\n}\r\n","import { DateTime } from \"luxon\";\r\nimport getTimezone from \"./getTimeZone\";\r\n\r\nexport default function unixToReadable(unixTimestamp) {\r\n  console.log(\"calling\");\r\n\r\n  if (!unixTimestamp) {\r\n    return;\r\n  }\r\n\r\n  // Convert the Unix timestamp to a Luxon DateTime object in the specified timezone\r\n  const dateTime = DateTime.fromMillis(unixTimestamp * 1000).setZone(\r\n    getTimezone()\r\n  );\r\n\r\n  // Format the date with short weekday and month (e.g., \"Mon, Jan 20, 2025\")\r\n  return dateTime.toLocaleString({\r\n    weekday: \"short\",\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n    year: \"numeric\",\r\n  });\r\n}\r\n","import notifyReqError from \"@/stores/notifyReqError\";\r\nimport { parsePhoneNumberFromString } from \"libphonenumber-js\";\r\n\r\nexport default async function banUnbanPhoneNum(phoneNum, boolean) {\r\n  try {\r\n    try {\r\n      // parse phone number to E.164\r\n      phoneNum = parsePhoneNumberFromString(phoneNum, \"CA\").number; // E.164 format\r\n      console.log(\"phoneNum: \", phoneNum);\r\n    } catch (e) {\r\n      throw new Error(\"Invalid Phone Number\");\r\n    }\r\n\r\n    // get app path\r\n    const baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\n    // start requesting server\r\n    const res = await fetch(`${baseURL}/api/users/ban_unban_phone_number`, {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ phone_num: phoneNum, boolean }),\r\n    });\r\n\r\n    // read status and process response\r\n    if (res.ok) {\r\n      return true;\r\n    } else {\r\n      // fetch json\r\n      const json = await res.json();\r\n\r\n      notifyReqError(json.message);\r\n      console.log(\"Failed to ban/unban phone number, message: \", json.message);\r\n    }\r\n  } catch (e) {\r\n    console.error(\"Unexpected Error: \", e);\r\n  }\r\n}\r\n","<template>\r\n  <UserInfo :info=\"info\" />\r\n  <UserAppos :name=\"info.firstName\" :appos=\"appos\" />\r\n</template>\r\n\r\n<script>\r\n// lib\r\nimport fetchUserDetails from \"./apis/fetchUserDetails\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { onMounted, ref } from \"vue\";\r\n// comps\r\nimport UserInfo from \"./comps/UserInfo.vue\";\r\nimport UserAppos from \"./comps/UserAppos.vue\";\r\n\r\nexport default {\r\n  name: \"User-\",\r\n  components: { UserInfo, UserAppos },\r\n  setup() {\r\n    // lib\r\n    const route = useRoute();\r\n    // resources\r\n    const info = ref({});\r\n    const appos = ref([]);\r\n\r\n    // LIFECYCLE\r\n    onMounted(async () => {\r\n      const userId = Number(route.params.userId);\r\n      const res = await fetchUserDetails(userId);\r\n      info.value = res.info;\r\n      appos.value = res.appos;\r\n    });\r\n\r\n    return { info, appos };\r\n  },\r\n};\r\n</script>\r\n","import notifyReqError from \"@/stores/notifyReqError\";\r\n\r\nexport default async function fetchUsers(userId) {\r\n  try {\r\n    // get app path\r\n    const baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\n    // start requesting server\r\n    const res = await fetch(`${baseURL}/api/users/get_user_details/${userId}`, {\r\n      method: \"GET\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    // fetch json\r\n    const json = await res.json();\r\n\r\n    // read status and process response\r\n    if (res.ok) {\r\n      // unpack\r\n      const [\r\n        role,\r\n        birth,\r\n        phoneNum,\r\n        firstName,\r\n        lastName,\r\n        notes,\r\n        contactName,\r\n        bannedOn,\r\n      ] = json.info;\r\n\r\n      // append\r\n      const info = {\r\n        role,\r\n        birth,\r\n        phoneNum,\r\n        firstName,\r\n        lastName,\r\n        notes,\r\n        contactName,\r\n        bannedOn,\r\n        userId,\r\n      };\r\n\r\n      // unpack\r\n      const appos = [];\r\n      const tables = json.appos;\r\n      for (let row of tables) {\r\n        const [\r\n          appoId,\r\n          empId,\r\n          empAlias,\r\n          color,\r\n          serviceId,\r\n          serviceName,\r\n          category,\r\n          date,\r\n          start,\r\n          end,\r\n        ] = row;\r\n\r\n        const appo = {\r\n          appoId,\r\n          empId,\r\n          empAlias,\r\n          color,\r\n          serviceId,\r\n          serviceName,\r\n          category,\r\n          date,\r\n          start,\r\n          end,\r\n        };\r\n\r\n        // append\r\n        appos.push(appo);\r\n      }\r\n\r\n      return { info, appos };\r\n    } else {\r\n      notifyReqError(json.message);\r\n      console.log(\"Failed to fetch users, message: \", json.message);\r\n    }\r\n  } catch (e) {\r\n    console.error(\"Unexpected Error: \", e);\r\n  }\r\n}\r\n","<template>\r\n  <table>\r\n    <tbody>\r\n      <tr>\r\n        <th colspan=\"2\">\r\n          <div id=\"title\">\r\n            <div>{{ info.firstName }} {{ info.lastName }}</div>\r\n            <div>\r\n              <Drawer\r\n                :name=\"info.firstName\"\r\n                :userId=\"info.userId\"\r\n                :phoneNum=\"info.phoneNum\"\r\n                :bannedOn=\"info.bannedOn\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </th>\r\n      </tr>\r\n      <tr>\r\n        <th>Client Name:</th>\r\n        <td>{{ info.contactName }}</td>\r\n      </tr>\r\n      <tr>\r\n        <th>Phone Number:</th>\r\n        <td>{{ formatPhone(info.phoneNum) }}</td>\r\n      </tr>\r\n      <tr>\r\n        <th>Joined on:</th>\r\n        <td>\r\n          {{ unixToReadable(info.birth) }}\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <th>Role:</th>\r\n        <td>\r\n          {{ info.role }}\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <th>Note:</th>\r\n        <td>\r\n          {{ info.notes }}\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\n// lib\r\nimport unixToReadable from \"@/lib/unixToReadable\";\r\nimport formatPhone from \"@/lib/formatPhone\";\r\nimport Drawer from \"./drawer/Parent.vue\";\r\n\r\nexport default {\r\n  props: {\r\n    info: Object,\r\n  },\r\n  components: { Drawer },\r\n  setup() {\r\n    return {\r\n      unixToReadable,\r\n      formatPhone,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nth,\r\ntd {\r\n  padding: 10px;\r\n  text-align: left;\r\n}\r\n#title {\r\n  display: flex;\r\n  font-size: 30px;\r\n  gap: 60px;\r\n}\r\n</style>","<template>\r\n  <div id=\"relative\">\r\n    <button @click=\"onToogleDrawer\">\r\n      <FontAwesomeIcon :icon=\"faCaretDown\" />\r\n    </button>\r\n    <Drawer\r\n      v-if=\"isDrawerOpen\"\r\n      :onToogleDrawer=\"onToogleDrawer\"\r\n      :phoneNum=\"phoneNum\"\r\n      :bannedOn=\"bannedOn\"\r\n      :onChangeRole=\"onChangeRole\"\r\n    />\r\n  </div>\r\n  <ChangeUserRole\r\n    v-if=\"isChangingRole\"\r\n    :name=\"name\"\r\n    :userId=\"userId\"\r\n    :onCancel=\"() => onChangeRole(false)\"\r\n  />\r\n</template>\r\n\r\n<script>\r\n// icon\r\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\r\nimport { faCaretDown } from \"@fortawesome/free-solid-svg-icons\";\r\n// lib\r\nimport { ref } from \"vue\";\r\n// comps\r\nimport Drawer from \"./Drawer.vue\";\r\nimport ChangeUserRole from \"./ChangeUserRole.vue\";\r\n\r\nexport default {\r\n  name: \"DrawerParent\",\r\n  props: {\r\n    onEditName: Function,\r\n    phoneNum: String,\r\n    bannedOn: Number,\r\n    name: String,\r\n    userId: Number,\r\n  },\r\n  components: {\r\n    Drawer,\r\n    FontAwesomeIcon,\r\n    ChangeUserRole,\r\n  },\r\n  setup() {\r\n    // status\r\n    const isDrawerOpen = ref(false);\r\n    const isChangingRole = ref(false);\r\n\r\n    // INPUT\r\n    const onToogleDrawer = async () => {\r\n      isDrawerOpen.value = !isDrawerOpen.value;\r\n    };\r\n\r\n    const onChangeRole = (value = true) => {\r\n      isChangingRole.value = value;\r\n    };\r\n\r\n    return {\r\n      isDrawerOpen,\r\n      onToogleDrawer,\r\n      faCaretDown,\r\n      isChangingRole,\r\n      onChangeRole,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#relative {\r\n  position: relative;\r\n}\r\nbutton {\r\n  font-size: 25px;\r\n  aspect-ratio: 1;\r\n  width: 35px;\r\n}\r\n</style>","<template>\r\n  <div id=\"drawer\" ref=\"drawer\" @blur=\"onBlur\" tabindex=\"0\">\r\n    <button @click=\"onChangeRole\">Change user's role</button>\r\n    <button\r\n      v-if=\"bannedOn == null\"\r\n      :style=\"{ color: 'red' }\"\r\n      @click=\"onBanUnban\"\r\n    >\r\n      Ban this account\r\n    </button>\r\n    <button v-else :style=\"{ color: 'green' }\" @click=\"onBanUnban\">\r\n      Unban this account\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// lib\r\nimport { onMounted, ref } from \"vue\";\r\nimport banUnbanPhoneNum from \"../../apis/banUnbanPhoneNum\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"Drawer-\",\r\n  props: {\r\n    onToogleDrawer: Function,\r\n    phoneNum: String,\r\n    bannedOn: Number,\r\n    onChangeRole: Function,\r\n  },\r\n\r\n  setup(props) {\r\n    const router = useRouter();\r\n    const drawer = ref(null);\r\n\r\n    // INPUT\r\n    const onBlur = (event) => {\r\n      const target = event.relatedTarget;\r\n\r\n      if (target && drawer.value.contains(target)) {\r\n        // if event from the 3 buttons, refocus\r\n        drawer.value.focus();\r\n      } else {\r\n        // if not, run the handler\r\n        props.onToogleDrawer();\r\n      }\r\n    };\r\n\r\n    const onBanUnban = async () => {\r\n      const res = await banUnbanPhoneNum(\r\n        props.phoneNum,\r\n        props.bannedOn == null\r\n      );\r\n      if (res) {\r\n        router.push(\"/refresh\");\r\n      }\r\n    };\r\n\r\n    // LIFECYCLE\r\n    onMounted(() => {\r\n      // when start, focus the drawer div\r\n      drawer.value.focus();\r\n    });\r\n\r\n    return { drawer, onBlur, onBanUnban };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#drawer {\r\n  position: absolute;\r\n  font-size: initial;\r\n}\r\nbutton {\r\n  width: 200px;\r\n  text-align: left;\r\n  margin: 0;\r\n  margin-left: -165px;\r\n  padding: 7px;\r\n}\r\n</style>","import { render } from \"./Drawer.vue?vue&type=template&id=66451e6e&scoped=true\"\nimport script from \"./Drawer.vue?vue&type=script&lang=js\"\nexport * from \"./Drawer.vue?vue&type=script&lang=js\"\n\nimport \"./Drawer.vue?vue&type=style&index=0&id=66451e6e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-66451e6e\"]])\n\nexport default __exports__","import notifyReqError from \"@/stores/notifyReqError\";\r\n\r\nexport default async function updateUserRole(userId, role) {\r\n  try {\r\n    // get app path\r\n    const baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\n    // start requesting server\r\n    const res = await fetch(`${baseURL}/api/users/update_user_role`, {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ user_id: userId, role }),\r\n    });\r\n\r\n    // read status and process response\r\n    if (res.ok) {\r\n      return true;\r\n    } else {\r\n      // fetch json\r\n      const json = await res.json();\r\n\r\n      notifyReqError(json.message);\r\n      console.log(\"Failed to change user's role, message: \", json.message);\r\n    }\r\n  } catch (e) {\r\n    console.error(\"Unexpected Error: \", e);\r\n  }\r\n}\r\n","<template>\r\n  <div id=\"parent\">\r\n    <div id=\"background\" @click=\"onCancel\" />\r\n    <div id=\"window\">\r\n      <button @click=\"props.onCancel\" id=\"closeBtn\" class=\"redBtn\">\r\n        <FontAwesomeIcon :icon=\"faXmark\" />\r\n      </button>\r\n\r\n      <div id=\"content\">\r\n        <form @submit.prevent=\"onSubmit\">\r\n          <div id=\"title\">Select {{ name }}'s new role</div>\r\n          <div>\r\n            <select v-model=\"role\" required>\r\n              <option :value=\"'client'\">Client</option>\r\n              <option :value=\"'admin'\">Admin</option>\r\n            </select>\r\n          </div>\r\n          <button id=\"confirm\" class=\"blueBtn\">Confirm</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref } from \"vue\";\r\n// icon\r\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\r\nimport { faXmark } from \"@fortawesome/free-solid-svg-icons\";\r\n// apis\r\nimport updateUserRole from \"../../apis/updateUserRole\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\n// RESOURCES\r\nconst router = useRouter();\r\n\r\n// PARAMS\r\nconst props = defineProps({\r\n  onCancel: Function,\r\n  name: String,\r\n  userId: Number,\r\n});\r\n// PAYLOAD\r\nconst role = ref(null);\r\n\r\nasync function onSubmit() {\r\n  const res = await updateUserRole(props.userId, role.value);\r\n  if (res) {\r\n    router.push(\"/refresh\");\r\n  }\r\n}\r\n</script>\r\n\r\n<script>\r\nexport default {};\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n#parent {\r\n  z-index: 15;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n#background {\r\n  position: fixed;\r\n  height: 100%;\r\n  width: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n}\r\n#window {\r\n  position: relative;\r\n  z-index: 20;\r\n  width: 300px;\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  background-color: var(--background-i2);\r\n  overflow-y: auto;\r\n  max-height: 80%;\r\n}\r\n#content {\r\n  padding: 20px;\r\n  font-size: 20px;\r\n  margin-top: 15px;\r\n  text-align: center;\r\n}\r\n#closeBtn {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  aspect-ratio: 1;\r\n  height: 30px;\r\n  padding: 0;\r\n  border-radius: 0;\r\n  font-size: 20px;\r\n}\r\n#confirm {\r\n  margin-top: 10px;\r\n  padding: 5px 15px;\r\n}\r\n</style>","import script from \"./ChangeUserRole.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChangeUserRole.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ChangeUserRole.vue?vue&type=style&index=0&id=46b4f8db&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-46b4f8db\"]])\n\nexport default __exports__","import { render } from \"./Parent.vue?vue&type=template&id=5661f5ca&scoped=true\"\nimport script from \"./Parent.vue?vue&type=script&lang=js\"\nexport * from \"./Parent.vue?vue&type=script&lang=js\"\n\nimport \"./Parent.vue?vue&type=style&index=0&id=5661f5ca&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5661f5ca\"]])\n\nexport default __exports__","import { render } from \"./UserInfo.vue?vue&type=template&id=49bf25e6&scoped=true\"\nimport script from \"./UserInfo.vue?vue&type=script&lang=js\"\nexport * from \"./UserInfo.vue?vue&type=script&lang=js\"\n\nimport \"./UserInfo.vue?vue&type=style&index=0&id=49bf25e6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-49bf25e6\"]])\n\nexport default __exports__","<template>\r\n  <div id=\"title\">{{ name }}'s Appointments</div>\r\n  <table>\r\n    <tbody>\r\n      <tr>\r\n        <th>Service</th>\r\n        <th>Employee</th>\r\n        <th>Date & Time</th>\r\n      </tr>\r\n\r\n      <tr v-if=\"futureAppos.length === 0\">\r\n        <td colspan=\"3\" style=\"text-align: center\">\r\n          No upcomming appointments\r\n        </td>\r\n      </tr>\r\n\r\n      <tr\r\n        class=\"row\"\r\n        v-for=\"(appo, index) in futureAppos\"\r\n        :key=\"index\"\r\n        @click=\"toAppoDetails(appo.date, appo.appoId)\"\r\n      >\r\n        <td>\r\n          {{ appo.serviceName }}\r\n          <div class=\"cate\">{{ appo.category }}</div>\r\n        </td>\r\n        <td :style=\"{ color: appo.color }\">\r\n          {{ appo.empAlias }}\r\n        </td>\r\n        <td>\r\n          <div>\r\n            {{ unixToReadable(appo.date) }} ({{\r\n              unixTimeToReminder(appo.date)\r\n            }})\r\n          </div>\r\n          {{ secsToHours(appo.start) }} - {{ secsToHours(appo.end) }}\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\n// lib\r\nimport unixToReadable from \"@/lib/unixToReadable\";\r\nimport unixTimeToReminder from \"@/lib/unixTimeToReminder\";\r\nimport secsToHours from \"@/lib/secsToHours\";\r\nimport { useRouter } from \"vue-router\";\r\nimport getTodayUnixTime from \"@/lib/getTodayUnixTime\";\r\nimport { computed } from \"vue\";\r\n\r\nexport default {\r\n  props: {\r\n    appos: Array,\r\n    name: String,\r\n  },\r\n  setup(props) {\r\n    const router = useRouter();\r\n    const today = getTodayUnixTime();\r\n\r\n    const toAppoDetails = (date, appoId) => {\r\n      router.push(`/calendar/${date}/${appoId}`);\r\n    };\r\n\r\n    const futureAppos = computed(() =>\r\n      props.appos.filter((appo) => appo.date >= today)\r\n    );\r\n\r\n    return {\r\n      today,\r\n      unixTimeToReminder,\r\n      unixToReadable,\r\n      secsToHours,\r\n      toAppoDetails,\r\n      futureAppos,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  font-size: 14px;\r\n}\r\nth,\r\ntd {\r\n  padding-top: 10px;\r\n  padding-bottom: 10px;\r\n  text-align: center;\r\n}\r\ntr {\r\n  border: 1px solid;\r\n}\r\n.row {\r\n  cursor: pointer;\r\n}\r\n.row:hover {\r\n  background: var(--hover);\r\n}\r\n.row:active {\r\n  background: var(--active);\r\n}\r\n#title {\r\n  font-size: 20px;\r\n  text-align: center;\r\n  padding: 5px;\r\n}\r\n.cate {\r\n  font-size: 14px;\r\n}\r\n</style>\r\n","import { render } from \"./UserAppos.vue?vue&type=template&id=18b35e07&scoped=true\"\nimport script from \"./UserAppos.vue?vue&type=script&lang=js\"\nexport * from \"./UserAppos.vue?vue&type=script&lang=js\"\n\nimport \"./UserAppos.vue?vue&type=style&index=0&id=18b35e07&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-18b35e07\"]])\n\nexport default __exports__","import { render } from \"./User.vue?vue&type=template&id=33b06030\"\nimport script from \"./User.vue?vue&type=script&lang=js\"\nexport * from \"./User.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["formatPhone","rawPhone","slice","console","log","formatted","length","secsToHours","secs","DateTime","fromObject","hour","plus","seconds","toFormat","unixTimeToReminder","unix","inputDate","fromSeconds","startOf","today","local","diff","toObject","daysDiff","Math","round","days","equals","isFuture","abs","unixToReadable","unixTimestamp","dateTime","fromMillis","setZone","getTimezone","toLocaleString","weekday","month","day","year","async","banUnbanPhoneNum","phoneNum","boolean","parsePhoneNumberFromString","number","e","Error","baseURL","process","res","fetch","method","credentials","headers","body","JSON","stringify","phone_num","ok","json","notifyReqError","message","error","_createElementBlock","_Fragment","_createVNode","_component_UserInfo","info","$setup","_component_UserAppos","name","firstName","appos","fetchUsers","userId","role","birth","lastName","notes","contactName","bannedOn","tables","row","appoId","empId","empAlias","color","serviceId","serviceName","category","date","start","end","appo","push","colspan","id","_createElementVNode","_hoisted_1","_hoisted_2","_toDisplayString","$props","_component_Drawer","onClick","_cache","args","onToogleDrawer","_component_FontAwesomeIcon","icon","faCaretDown","isDrawerOpen","_createBlock","key","onChangeRole","_createCommentVNode","isChangingRole","_component_ChangeUserRole","onCancel","ref","onBlur","tabindex","style","onBanUnban","props","Function","String","Number","setup","router","useRouter","drawer","event","target","relatedTarget","value","contains","focus","onMounted","__exports__","updateUserRole","user_id","__default__","__props","onSubmit","onEditName","components","Drawer","FontAwesomeIcon","ChangeUserRole","Object","class","futureAppos","_renderList","index","$event","toAppoDetails","_createTextVNode","_hoisted_4","_normalizeStyle","_hoisted_3","Array","getTodayUnixTime","computed","filter","UserInfo","UserAppos","route","useRoute","params","fetchUserDetails","render"],"sourceRoot":""}