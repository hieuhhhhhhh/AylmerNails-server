{"version":3,"file":"js/360.9c9504a8.js","mappings":"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","sources":["webpack://frontend/./src/views/employees/apis/fetchColors.js","webpack://frontend/./src/views/employees/apis/fetchESs.js","webpack://frontend/./src/views/employees/AddEmployee.vue","webpack://frontend/./src/views/employees/apis/addEmployee.js","webpack://frontend/./src/views/employees/AddEmployee.vue?684a","webpack://frontend/./src/views/employees/comps/Category.vue","webpack://frontend/./src/views/employees/comps/Category.vue?d7a2"],"sourcesContent":["import notifyReqError from \"@/stores/notifyReqError\";\r\n\r\nexport default async function fetchColors() {\r\n  try {\r\n    // get app path\r\n    const baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\n    // start requesting server\r\n    const res = await fetch(`${baseURL}/api/employees/get_colors`, {\r\n      method: \"GET\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    // fetch json\r\n    const json = await res.json();\r\n\r\n    // read status and process response\r\n    if (res.ok) {\r\n      // res holder\r\n      const newColors = [];\r\n\r\n      // refactor data and return result\r\n      const raw = json.colors;\r\n      for (const row of raw) {\r\n        const [colorId, name, code] = row;\r\n        const newColor = { colorId, name, code };\r\n        newColors.push(newColor);\r\n      }\r\n\r\n      return newColors;\r\n    } else {\r\n      notifyReqError(json.message);\r\n      console.log(\"Failed to fetch color list, message: \", json.message);\r\n    }\r\n  } catch (e) {\r\n    console.error(\"Unexpected Error: \", e);\r\n  }\r\n}\r\n","import getTodayUnixTime from \"@/lib/getTodayUnixTime\";\r\nimport notifyReqError from \"@/stores/notifyReqError\";\r\n\r\nexport default async function fetchEmployeeServices(employeeId) {\r\n  try {\r\n    // get app path\r\n    const baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\n    // start requesting server\r\n    const res = await fetch(\r\n      `${baseURL}/api/employees/get_employee_services/${employeeId}/${getTodayUnixTime()}`,\r\n      {\r\n        method: \"GET\",\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    );\r\n    // fetch json\r\n    const json = await res.json();\r\n\r\n    // read status and process response\r\n    if (res.ok) {\r\n      // refactor services to categories and return result\r\n      const categories = refactorServices(json.services, json.categories);\r\n      const ES_ids = fetchESids(json.services);\r\n      console.log(\"categories: \", categories);\r\n\r\n      console.log(\"ES_ids: \", ES_ids);\r\n      return { categories, ES_ids };\r\n    } else {\r\n      notifyReqError(json.message);\r\n      console.log(\r\n        \"Failed to fetch employee's services, message: \",\r\n        json.message\r\n      );\r\n    }\r\n  } catch (e) {\r\n    console.error(\"Unexpected Error: \", e);\r\n  }\r\n}\r\n\r\n// re-group services by category_ids, then sort the group by number of services\r\nfunction refactorServices(rawServices, rawCategories) {\r\n  // a map of categories where category_id is key\r\n  const categories = {};\r\n  categories[null] = {\r\n    cate_id: null,\r\n    cate_name: \"Unclassified\",\r\n    services: [],\r\n  };\r\n\r\n  rawCategories.forEach((raw) => {\r\n    const [cate_id, cate_name] = raw;\r\n    categories[cate_id] = { cate_id, cate_name, services: [] };\r\n  });\r\n\r\n  // re-group services based on their category_id\r\n  rawServices.forEach((raw) => {\r\n    const [service_id, service_name, cate_id, employee_id] = raw;\r\n\r\n    // add the service to the matching category_id\r\n    categories[cate_id].services.push({\r\n      service_id,\r\n      service_name,\r\n      cate_id,\r\n      employee_id,\r\n    });\r\n  });\r\n\r\n  // remove category if no services in there\r\n  if (!categories[null].services.length > 0) {\r\n    delete categories[null];\r\n  }\r\n\r\n  // sort the map based on the length of prop 'services'\r\n  const sorted = Object.values(categories).sort(\r\n    (a, b) => b.services.length - a.services.length\r\n  );\r\n\r\n  // return result\r\n  return sorted;\r\n}\r\n\r\nfunction fetchESids(rawServices) {\r\n  // extract employee's services\r\n  const ES_ids = new Set();\r\n\r\n  rawServices.forEach((raw) => {\r\n    const [service_id, , , employee_id] = raw;\r\n\r\n    // add the service to the matching category_id\r\n    if (employee_id) {\r\n      ES_ids.add(service_id);\r\n    }\r\n  });\r\n  return ES_ids;\r\n}\r\n","<template>\r\n  <form @submit.prevent=\"onSubmit\">\r\n    <table>\r\n      <colgroup>\r\n        <col style=\"width: auto\" />\r\n        <col style=\"width: 80%\" />\r\n      </colgroup>\r\n      <tbody>\r\n        <tr>\r\n          <th>Name:</th>\r\n          <td id=\"flexBox\">\r\n            <input type=\"text\" v-model=\"name\" required />\r\n          </td>\r\n        </tr>\r\n\r\n        <tr>\r\n          <th>Color:</th>\r\n          <td id=\"flexBox\">\r\n            <select\r\n              v-model=\"colorId\"\r\n              :style=\"{ backgroundColor: getColor(), color: 'black' }\"\r\n              required\r\n            >\r\n              <option\r\n                v-for=\"color in colors\"\r\n                :key=\"color.colorId\"\r\n                :value=\"color.colorId\"\r\n                :style=\"{ backgroundColor: color.code, color: 'black' }\"\r\n              >\r\n                {{ color.name }}\r\n              </option>\r\n            </select>\r\n          </td>\r\n        </tr>\r\n\r\n        <tr>\r\n          <th>Favorite Length:<br />(minutes)</th>\r\n          <td id=\"flexBox\">\r\n            <input\r\n              type=\"number\"\r\n              v-model=\"interval1\"\r\n              required\r\n              :min=\"5\"\r\n              step=\"1\"\r\n            />\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <th>\r\n            Second Favorite Length:<br />\r\n            (Optional)\r\n          </th>\r\n          <td id=\"flexBox\">\r\n            <input type=\"number\" v-model=\"interval2\" :min=\"5\" step=\"1\" />\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <th>\r\n            Ideal Percentage:<br />\r\n            (should be > 40)\r\n          </th>\r\n          <td id=\"flexBox\">\r\n            <input\r\n              type=\"number\"\r\n              v-model=\"intervalPercent\"\r\n              required\r\n              :min=\"10\"\r\n              :max=\"100\"\r\n              step=\"1\"\r\n            />\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <th>Services:</th>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div id=\"categories\">\r\n      <Category\r\n        v-for=\"(category, index) in categories\"\r\n        :key=\"index\"\r\n        :isEditing=\"true\"\r\n        :category=\"category\"\r\n        :checkService=\"checkService\"\r\n        :uncheckService=\"uncheckService\"\r\n        :uncheckedAll=\"true\"\r\n      />\r\n    </div>\r\n    <br />\r\n\r\n    <div id=\"flex\">\r\n      <button id=\"confirm\" class=\"greenBtn\">\r\n        <FontAwesomeIcon :icon=\"saveIcon\" /> <b>Confirm New Employee</b>\r\n      </button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\n// icon\r\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\r\nimport { faCheck } from \"@fortawesome/free-solid-svg-icons\";\r\n// comps\r\nimport Category from \"./comps/Category.vue\";\r\n// lib\r\nimport fetchEmployeeServices from \"./apis/fetchESs.js\";\r\nimport addEmployee from \"./apis/addEmployee.js\";\r\nimport fetchColors from \"./apis/fetchColors.js\";\r\n\r\nexport default {\r\n  components: {\r\n    FontAwesomeIcon,\r\n    Category,\r\n  },\r\n  data() {\r\n    return {\r\n      // icon\r\n      saveIcon: faCheck,\r\n      // resources\r\n      categories: [],\r\n      colors: [],\r\n      colorCode: \"\",\r\n      // outcome\r\n      intervalPercent: null,\r\n      ESs: new Set(),\r\n      name: \"\",\r\n      colorId: null,\r\n      interval1: null,\r\n      interval2: null,\r\n    };\r\n  },\r\n  methods: {\r\n    getColor() {\r\n      const selected = this.colors.find(\r\n        (color) => color.colorId === this.colorId\r\n      );\r\n      return selected ? selected.code : \"gray\";\r\n    },\r\n    checkService(serviceId) {\r\n      this.ESs.add(serviceId);\r\n    },\r\n    uncheckService(serviceId) {\r\n      this.ESs.delete(serviceId);\r\n    },\r\n    async onSubmit() {\r\n      // parse intervals\r\n      const intervals = [];\r\n      intervals.push(this.interval1);\r\n      if (this.interval2) intervals.push(this.interval2);\r\n      else intervals.push(this.interval1);\r\n\r\n      console.log(\"intervals: \", intervals);\r\n\r\n      // parse ESs\r\n      const res = await addEmployee(\r\n        this.name,\r\n        intervals,\r\n        this.intervalPercent,\r\n        this.colorId,\r\n        Array.from(this.ESs)\r\n      );\r\n\r\n      if (res) {\r\n        this.$router.push(`/employees/details/${res}`);\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    const [servicesData, colorsData] = await Promise.all([\r\n      fetchEmployeeServices(1),\r\n      fetchColors(),\r\n    ]);\r\n\r\n    this.categories = servicesData.categories;\r\n    this.colors = colorsData;\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ninput {\r\n  width: 100%;\r\n}\r\nth,\r\ntd {\r\n  padding: 10px;\r\n  text-align: left;\r\n}\r\n#flexBox {\r\n  display: flex;\r\n}\r\n#check {\r\n  transform: scale(2);\r\n  margin: 10px;\r\n}\r\n#categories {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 5px;\r\n}\r\n#confirm {\r\n  border-radius: 20px;\r\n  padding: 10px 20px;\r\n  margin: 20px 0px;\r\n}\r\n#flex {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n</style>","import notifyReqError from \"@/stores/notifyReqError\";\r\n\r\nexport default async function addEmployee(\r\n  alias,\r\n  key_intervals,\r\n  intervalPercent,\r\n  colorId,\r\n  service_ids\r\n) {\r\n  try {\r\n    // get app path\r\n    const baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\n    // convert to secs\r\n    key_intervals = key_intervals.map((e) => e * 60);\r\n\r\n    // start requesting server\r\n    const res = await fetch(`${baseURL}/api/employees/add_employee`, {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        alias: alias,\r\n        key_intervals: key_intervals,\r\n        interval_percent: intervalPercent,\r\n        color_id: colorId,\r\n        service_ids: service_ids,\r\n      }),\r\n    });\r\n\r\n    // fetch json\r\n    const json = await res.json();\r\n\r\n    // read status and process response\r\n    if (res.ok) {\r\n      return json.added_employee_id;\r\n    } else {\r\n      notifyReqError(json.message);\r\n      console.log(\"Failed to add employee, message: \", json.message);\r\n    }\r\n  } catch (e) {\r\n    console.error(\"Unexpected Error: \", e);\r\n  }\r\n}\r\n","import { render } from \"./AddEmployee.vue?vue&type=template&id=40dc42db&scoped=true\"\nimport script from \"./AddEmployee.vue?vue&type=script&lang=js\"\nexport * from \"./AddEmployee.vue?vue&type=script&lang=js\"\n\nimport \"./AddEmployee.vue?vue&type=style&index=0&id=40dc42db&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-40dc42db\"]])\n\nexport default __exports__","<template>\r\n  <div id=\"category\" v-if=\"category.services.length\">\r\n    <div id=\"title\">{{ category.cate_name }}</div>\r\n    <div v-for=\"(service, index) in category.services\" :key=\"index\">\r\n      <div>\r\n        <label>\r\n          <input\r\n            id=\"check\"\r\n            type=\"checkbox\"\r\n            :value=\"service.service_id\"\r\n            :checked=\"service.employee_id && !uncheckedAll\"\r\n            @change=\"updateChecked\"\r\n            :disabled=\"!isEditing\"\r\n          />\r\n          {{ service.service_name }}\r\n        </label>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Category-\",\r\n  props: {\r\n    category: Object,\r\n    isEditing: Boolean,\r\n    uncheckedAll: Boolean,\r\n    checkService: Function,\r\n    uncheckService: Function,\r\n  },\r\n  methods: {\r\n    updateChecked(event) {\r\n      const value = event.target.value;\r\n      if (event.target.checked === true) {\r\n        this.checkService(value);\r\n      } else {\r\n        this.uncheckService(value);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#check {\r\n  transform: scale(2);\r\n  margin: 10px;\r\n}\r\n#category {\r\n  padding: 4px;\r\n  box-shadow: 0 0 5px var(--shadow-color);\r\n  max-width: 90vw;\r\n  width: 175px;\r\n  border-radius: 5px;\r\n  background-color: var(--background-i2);\r\n  box-sizing: border-box;\r\n  height: fit-content;\r\n}\r\n#title {\r\n  padding: 5px;\r\n  text-align: center;\r\n  font-weight: bold;\r\n  font-size: 15px;\r\n  box-sizing: border-box;\r\n}\r\n#service {\r\n  padding: 8px;\r\n  padding-inline: 15px;\r\n  font-size: 17px;\r\n  box-sizing: border-box;\r\n}\r\n@media (orientation: portrait) {\r\n  #service {\r\n    padding: 13px;\r\n  }\r\n}\r\n</style>","import { render } from \"./Category.vue?vue&type=template&id=7e188470&scoped=true\"\nimport script from \"./Category.vue?vue&type=script&lang=js\"\nexport * from \"./Category.vue?vue&type=script&lang=js\"\n\nimport \"./Category.vue?vue&type=style&index=0&id=7e188470&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7e188470\"]])\n\nexport default __exports__"],"names":["async","fetchColors","baseURL","process","res","fetch","method","credentials","headers","json","ok","newColors","raw","colors","row","colorId","name","code","newColor","push","notifyReqError","message","console","log","e","error","fetchEmployeeServices","employeeId","getTodayUnixTime","categories","refactorServices","services","ES_ids","fetchESids","rawServices","rawCategories","cate_id","cate_name","forEach","service_id","service_name","employee_id","length","sorted","Object","values","sort","a","b","Set","add","id","class","_createElementBlock","onSubmit","_cache","_withModifiers","args","$options","_createElementVNode","style","_hoisted_1","type","$event","$data","required","_hoisted_2","_normalizeStyle","backgroundColor","getColor","color","_Fragment","_renderList","key","value","_hoisted_3","_createTextVNode","_hoisted_4","interval1","min","step","_hoisted_5","interval2","_hoisted_6","intervalPercent","max","_hoisted_7","category","index","_createBlock","_component_Category","isEditing","checkService","uncheckService","uncheckedAll","_hoisted_8","_hoisted_9","_createVNode","_component_FontAwesomeIcon","icon","saveIcon","addEmployee","alias","key_intervals","service_ids","map","body","JSON","stringify","interval_percent","color_id","added_employee_id","components","FontAwesomeIcon","Category","data","faCheck","colorCode","ESs","methods","selected","this","find","serviceId","delete","intervals","Array","from","$router","created","servicesData","colorsData","Promise","all","__exports__","render","$props","_toDisplayString","service","checked","onChange","updateChecked","disabled","_createCommentVNode","props","Boolean","Function","event","target"],"sourceRoot":""}