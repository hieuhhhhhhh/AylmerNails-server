{"version":3,"file":"js/749.31b5257f.js","mappings":"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","sources":["webpack://frontend/./src/lib/parseDate.js","webpack://frontend/./src/views/employees/apis/fetchEmployees.js","webpack://frontend/./src/views/services/apis/fetchCategories.js","webpack://frontend/./src/views/services/AddService.vue","webpack://frontend/./src/views/services/comps/AOSs/AOSs-edit.vue","webpack://frontend/./src/views/services/comps/AOSs/AOSs-edit.vue?b08d","webpack://frontend/./src/views/services/apis/addService.js","webpack://frontend/./src/views/services/AddService.vue?f769"],"sourcesContent":["import { DateTime } from \"luxon\";\r\nimport getTimezone from \"./getTimeZone\";\r\n\r\nexport default function dateToUnixTime(date) {\r\n  console.log(\"calling\");\r\n\r\n  if (!date) {\r\n    return null;\r\n  }\r\n\r\n  // Parse the date string using Luxon and set it to Toronto timezone\r\n  const torontoDateTime = DateTime.fromISO(date, { zone: getTimezone() });\r\n\r\n  // Convert the date to Unix timestamp (seconds)\r\n  const unixTimestamp = torontoDateTime.toSeconds();\r\n\r\n  console.log(\"date to unix: \", unixTimestamp);\r\n\r\n  return unixTimestamp;\r\n}\r\n","import getTodayUnixTime from \"@/lib/getTodayUnixTime\";\r\nimport notifyReqError from \"@/stores/notifyReqError\";\r\n\r\nexport default async function fetchEmployees() {\r\n  try {\r\n    // get app path\r\n    const baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\n    // start requesting server\r\n    const res = await fetch(\r\n      `${baseURL}/api/employees/get_employees/${getTodayUnixTime()}`,\r\n      {\r\n        method: \"GET\",\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    );\r\n\r\n    // fetch json\r\n    const json = await res.json();\r\n\r\n    // read status and process response\r\n    if (res.ok) {\r\n      // refactor data and return result\r\n      const raw = json.all_employees;\r\n      const employees = [];\r\n      raw.forEach((e) => {\r\n        // unpack properties and create new employee\r\n        const [employee_id, alias, last_date, is_active, color] = e;\r\n        const employee = { employee_id, alias, last_date, is_active, color };\r\n\r\n        employees.push(employee);\r\n      });\r\n\r\n      // return result\r\n      console.log(\"emp: \", employees);\r\n      return employees;\r\n    } else {\r\n      notifyReqError(json.message);\r\n      console.log(\"Failed to fetch employee list, message: \", json.message);\r\n    }\r\n  } catch (e) {\r\n    console.error(\"Unexpected Error: \", e);\r\n  }\r\n}\r\n","import notifyReqError from \"@/stores/notifyReqError\";\r\n\r\nexport default async function fetchCategories() {\r\n  try {\r\n    // get app path\r\n    const baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\n    // start requesting server\r\n    const res = await fetch(`${baseURL}/api/services/get_categories`, {\r\n      method: \"GET\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    // fetch json\r\n    const json = await res.json();\r\n\r\n    // read status and process response\r\n    if (res.ok) {\r\n      // refactor data and return result\r\n      const raw = json.categories;\r\n      const cates = [];\r\n      raw.forEach((e) => {\r\n        // unpack properties and create new category\r\n        const [cate_id, name] = e;\r\n        const category = { cate_id, name };\r\n\r\n        cates.push(category);\r\n      });\r\n\r\n      // return result\r\n      return cates;\r\n    } else {\r\n      notifyReqError(json.message);\r\n      console.log(\"Failed to fetch categories list, message: \", json.message);\r\n    }\r\n  } catch (e) {\r\n    console.error(\"Unexpected Error: \", e);\r\n  }\r\n}\r\n","<template>\r\n  <form @submit.prevent=\"onSubmit\">\r\n    <table>\r\n      <colgroup>\r\n        <col style=\"width: auto\" />\r\n        <col style=\"width: 80%\" />\r\n      </colgroup>\r\n      <tbody>\r\n        <tr>\r\n          <th>Name:</th>\r\n          <td id=\"flexBox\">\r\n            <input type=\"text\" v-model=\"name\" required />\r\n          </td>\r\n        </tr>\r\n\r\n        <tr>\r\n          <th>Category:</th>\r\n          <td id=\"flexBox\">\r\n            <select v-model=\"categoryId\" required>\r\n              <option\r\n                v-for=\"cate in categories\"\r\n                :key=\"cate.cate_id\"\r\n                :value=\"cate.cate_id\"\r\n              >\r\n                {{ cate.name }}\r\n              </option>\r\n              <option :value=\"'null'\">none</option>\r\n            </select>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <th>Starting Date:</th>\r\n          <td id=\"flexBox\">\r\n            <input type=\"date\" id=\"datePicker\" v-model=\"date\" required />\r\n          </td>\r\n        </tr>\r\n\r\n        <tr>\r\n          <th>\r\n            Default Length:<br />\r\n            (minutes)\r\n          </th>\r\n          <td id=\"flexBox\">\r\n            <input type=\"number\" v-model=\"length\" required :min=\"5\" step=\"1\" />\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <th>Starting Price $:</th>\r\n          <td id=\"flexBox\">\r\n            <input type=\"number\" step=\"0.01\" v-model=\"price\" :min=\"1\" />\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <th>\r\n            <label for=\"check\"> Available for online booking </label>\r\n          </th>\r\n          <td>\r\n            <input id=\"check\" type=\"checkbox\" v-model=\"clientCanBook\" />\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <th>Description:</th>\r\n          <td id=\"flexBox\">\r\n            <textarea\r\n              id=\"description\"\r\n              type=\"text\"\r\n              rows=\"3\"\r\n              v-model=\"description\"\r\n            />\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <th>Technicians:</th>\r\n          <td>\r\n            <div v-for=\"employee in employees\" :key=\"employee.employee_id\">\r\n              <div v-if=\"employee.is_active\">\r\n                <input\r\n                  id=\"check\"\r\n                  type=\"checkbox\"\r\n                  :value=\"employee.employee_id\"\r\n                  v-model=\"checkedEmp\"\r\n                />\r\n                <label>{{ employee.alias }}</label>\r\n              </div>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <br />\r\n    <div id=\"addOn\" type=\"button\">\r\n      <b>Questions & Answers:</b>\r\n      <AOSsEdit\r\n        :AOSs=\"AOSs\"\r\n        :editAOS=\"editAOS\"\r\n        :removeOption=\"removeOption\"\r\n        :addOption=\"addOption\"\r\n        :addQuestion=\"addQuestion\"\r\n        :removeQuestion=\"removeQuestion\"\r\n        :onInputQuestion=\"onInputQuestion\"\r\n      />\r\n    </div>\r\n    <div id=\"flex\">\r\n      <button id=\"confirm\" class=\"greenBtn\">\r\n        <FontAwesomeIcon :icon=\"saveIcon\" /> <b>Confirm New Service</b>\r\n      </button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\n// comps\r\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\r\nimport { faCheck } from \"@fortawesome/free-solid-svg-icons\";\r\nimport AOSsEdit from \"./comps/AOSs/AOSs-edit.vue\";\r\n// lib\r\nimport fetchEmployees from \"../employees/apis/fetchEmployees\";\r\nimport fetchCategories from \"./apis/fetchCategories\";\r\nimport addService from \"./apis/addService\";\r\nexport default {\r\n  props: {\r\n    serviceInfo: Object,\r\n    isFetched: Boolean,\r\n  },\r\n  components: {\r\n    FontAwesomeIcon,\r\n    AOSsEdit,\r\n  },\r\n  data() {\r\n    return {\r\n      // icons\r\n      saveIcon: faCheck,\r\n      // payload\r\n      name: \"\",\r\n      description: \"\",\r\n      date: null,\r\n      length: null,\r\n      categoryId: \"null\",\r\n      AOSs: [],\r\n      checkedEmp: [],\r\n      price: null,\r\n      clientCanBook: true,\r\n      // resources\r\n      categories: [],\r\n      employees: [],\r\n    };\r\n  },\r\n  methods: {\r\n    editAOS(parentIndex, index, prop, value) {\r\n      this.AOSs[parentIndex].options[index][prop] = value;\r\n    },\r\n    removeOption(parentIndex, index) {\r\n      if (index > 0) {\r\n        this.AOSs[parentIndex].options.splice(index, 1);\r\n      }\r\n    },\r\n    addOption(parentIndex) {\r\n      this.AOSs[parentIndex].options.push({ name: null, length_offset: 0 });\r\n    },\r\n    addQuestion() {\r\n      const AOS = {};\r\n      AOS.propmpt = null;\r\n      AOS.options = [];\r\n      AOS.options.push({ name: null, length_offset: 0 });\r\n      this.AOSs.push(AOS);\r\n    },\r\n    removeQuestion(parentIndex) {\r\n      this.AOSs.splice(parentIndex, 1);\r\n    },\r\n    onInputQuestion(parentIndex, value) {\r\n      this.AOSs[parentIndex].prompt = value;\r\n    },\r\n\r\n    // submit api\r\n    async onSubmit() {\r\n      if (this.categoryId == \"null\") {\r\n        this.categoryId = null;\r\n      }\r\n\r\n      const service_id = await addService(\r\n        this.name,\r\n        this.categoryId,\r\n        this.description,\r\n        this.date,\r\n        this.length * 60,\r\n        this.AOSs,\r\n        this.checkedEmp,\r\n        this.price,\r\n        this.clientCanBook\r\n      );\r\n\r\n      // navigate to that new service\r\n      if (service_id) {\r\n        this.$router.push(`/services/all`);\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    this.categoryId = this.$route.params.cate_id;\r\n\r\n    const [employees, categories] = await Promise.all([\r\n      fetchEmployees(),\r\n      fetchCategories(),\r\n    ]);\r\n\r\n    this.employees = employees;\r\n    this.categories = categories;\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ninput:not(#check, #datePicker),\r\ntextarea {\r\n  width: 100%;\r\n}\r\nth,\r\ntd {\r\n  padding: 10px;\r\n  text-align: left;\r\n}\r\n#flexBox {\r\n  display: flex;\r\n}\r\n#addOn {\r\n  padding: 10px;\r\n  border-top: 3px var(--xtrans-gray) solid;\r\n  /* border-bottom: 3px var(--xtrans-gray) solid; */\r\n}\r\n\r\n#duo {\r\n  display: flex;\r\n  gap: 15px;\r\n}\r\n\r\n#check {\r\n  transform: scale(2);\r\n  margin-left: 7px;\r\n  margin-right: 10px;\r\n}\r\n#datePicker {\r\n  font-size: 16px;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n}\r\n#flex {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n#confirm {\r\n  border-radius: 20px;\r\n  padding: 10px 20px;\r\n  margin: 20px 0px;\r\n}\r\n</style>","<template>\r\n  <div v-for=\"(AOS, parentIndex) in AOSs\" :key=\"parentIndex\">\r\n    <div id=\"title\">\r\n      <button\r\n        class=\"redBtn\"\r\n        id=\"smallBtn\"\r\n        @click.prevent=\"removeQuestion(parentIndex)\"\r\n      >\r\n        <FontAwesomeIcon :icon=\"removeIcon\" /></button\r\n      >&nbsp; <b>Question {{ parentIndex + 1 }} </b>:\r\n      <input\r\n        id=\"prompt\"\r\n        type=\"text\"\r\n        :value=\"AOS.prompt\"\r\n        @input=\"onInputQuestion(parentIndex, $event.target.value)\"\r\n        required\r\n      />\r\n    </div>\r\n    <table border=\"1\">\r\n      <thead>\r\n        <tr>\r\n          <th>Answer</th>\r\n          <th>Duration Increase (minutes) <br /></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(option, index) in AOS.options\" :key=\"index\">\r\n          <td>\r\n            <div id=\"flexBox\">\r\n              <button\r\n                class=\"redBtn\"\r\n                id=\"smallBtn\"\r\n                v-if=\"index > 0\"\r\n                @click.prevent=\"removeOption(parentIndex, index)\"\r\n              >\r\n                <FontAwesomeIcon :icon=\"removeIcon\" /></button\r\n              >&nbsp;\r\n              <input\r\n                id=\"nameInput\"\r\n                type=\"text\"\r\n                :value=\"option.name\"\r\n                @input=\"onInputOption(parentIndex, index, $event)\"\r\n                required\r\n              />\r\n            </div>\r\n          </td>\r\n          <td>\r\n            <input\r\n              type=\"number\"\r\n              :value=\"option.length_offset / 60\"\r\n              @input=\"onInputLength(parentIndex, index, $event)\"\r\n              required\r\n              step=\"1\"\r\n            />\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td colspan=\"2\">\r\n            <button\r\n              class=\"orangeBtn\"\r\n              id=\"smallBtn\"\r\n              @click.prevent=\"addOption(parentIndex)\"\r\n            >\r\n              <FontAwesomeIcon :icon=\"plusIcon\" /> Add Option\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div id=\"note\">* <i>Duration Increase</i> can be negative</div>\r\n    <div id=\"note\">* Questions & Answers can not be updated once created</div>\r\n    <br />\r\n  </div>\r\n  <div>\r\n    <button class=\"orangeBtn\" @click.prevent=\"addQuestion\">\r\n      <FontAwesomeIcon :icon=\"plusIcon\" /> Add Question\r\n    </button>\r\n  </div>\r\n  <br />\r\n</template>\r\n<script>\r\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\r\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faTrashCan } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport default {\r\n  props: {\r\n    AOSs: Object,\r\n    editAOS: Function,\r\n    removeOption: Function,\r\n    addOption: Function,\r\n    addQuestion: Function,\r\n    removeQuestion: Function,\r\n    onInputQuestion: Function,\r\n  },\r\n  components: {\r\n    FontAwesomeIcon,\r\n  },\r\n  data() {\r\n    return {\r\n      // icons\r\n      plusIcon: faPlus,\r\n      removeIcon: faTrashCan,\r\n    };\r\n  },\r\n  methods: {\r\n    onInputLength(parentIndex, index, event) {\r\n      this.editAOS(\r\n        parentIndex,\r\n        index,\r\n        \"length_offset\",\r\n        event.target.value * 60\r\n      );\r\n    },\r\n    onInputOption(parentIndex, index, event) {\r\n      this.editAOS(parentIndex, index, \"name\", event.target.value);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#flexBox {\r\n  display: flex;\r\n}\r\n#nameInput {\r\n  flex: 1;\r\n}\r\n#prompt {\r\n  flex: 1;\r\n  margin-left: 10px;\r\n}\r\n#note {\r\n  color: rgb(184, 121, 3);\r\n}\r\n#title {\r\n  font-size: 17px;\r\n  padding: 5px;\r\n  display: flex;\r\n  width: 100%;\r\n}\r\n#smallBtn {\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  padding: 5px;\r\n}\r\ntable {\r\n  border-collapse: collapse; /* or separate */\r\n}\r\ninput {\r\n  width: 100%;\r\n}\r\n\r\nth,\r\ntd {\r\n  padding: 10px;\r\n  text-align: left;\r\n}\r\n</style>\r\n","import { render } from \"./AOSs-edit.vue?vue&type=template&id=f07112f6&scoped=true\"\nimport script from \"./AOSs-edit.vue?vue&type=script&lang=js\"\nexport * from \"./AOSs-edit.vue?vue&type=script&lang=js\"\n\nimport \"./AOSs-edit.vue?vue&type=style&index=0&id=f07112f6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f07112f6\"]])\n\nexport default __exports__","import parseDate from \"@/lib/parseDate\";\r\nimport notifyReqError from \"@/stores/notifyReqError\";\r\n\r\nexport default async function addService(\r\n  name,\r\n  categoryId,\r\n  description,\r\n  date,\r\n  duration,\r\n  AOSs,\r\n  employee_ids,\r\n  price,\r\n  clientCanBook\r\n) {\r\n  try {\r\n    // parse AOSs\r\n    const newAOSs = [];\r\n    AOSs.forEach((AOS) => {\r\n      // fetch question\r\n      newAOSs.push(AOS.prompt);\r\n\r\n      // fetch options\r\n      const proOptions = [];\r\n      AOS.options.forEach((option) => {\r\n        proOptions.push(option.name);\r\n        proOptions.push(option.length_offset);\r\n      });\r\n      newAOSs.push(proOptions);\r\n    });\r\n\r\n    // get app path\r\n    const baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\n    // start requesting server\r\n    const res = await fetch(`${baseURL}/api/services/add_service`, {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        category_id: categoryId,\r\n        description,\r\n        date: parseDate(date),\r\n        duration,\r\n        AOSs: newAOSs,\r\n        employee_ids,\r\n        price,\r\n        client_can_book: clientCanBook,\r\n      }),\r\n    });\r\n\r\n    // fetch json\r\n    const json = await res.json();\r\n\r\n    // read status and process response\r\n    if (res.ok) {\r\n      return json.added_service_id;\r\n    } else {\r\n      notifyReqError(json.message);\r\n      console.log(\"Failed to add service, message: \", json.message);\r\n    }\r\n  } catch (e) {\r\n    console.error(\"Unexpected Error: \", e);\r\n  }\r\n}\r\n","import { render } from \"./AddService.vue?vue&type=template&id=d6206442&scoped=true\"\nimport script from \"./AddService.vue?vue&type=script&lang=js\"\nexport * from \"./AddService.vue?vue&type=script&lang=js\"\n\nimport \"./AddService.vue?vue&type=style&index=0&id=d6206442&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d6206442\"]])\n\nexport default __exports__"],"names":["dateToUnixTime","date","console","log","torontoDateTime","DateTime","fromISO","zone","getTimezone","unixTimestamp","toSeconds","async","fetchEmployees","baseURL","process","res","fetch","getTodayUnixTime","method","credentials","headers","json","ok","raw","all_employees","employees","forEach","e","employee_id","alias","last_date","is_active","color","employee","push","notifyReqError","message","error","fetchCategories","categories","cates","cate_id","name","category","id","key","type","class","_createElementBlock","onSubmit","_cache","_withModifiers","args","$options","_createElementVNode","style","_hoisted_1","$event","$data","required","_hoisted_2","categoryId","_Fragment","_renderList","cate","value","_hoisted_3","_hoisted_4","_createTextVNode","_hoisted_5","length","min","step","_hoisted_6","price","for","clientCanBook","_hoisted_7","rows","description","_hoisted_8","checkedEmp","_hoisted_9","_toDisplayString","_createCommentVNode","_hoisted_10","_createVNode","_component_AOSsEdit","AOSs","editAOS","removeOption","addOption","addQuestion","removeQuestion","onInputQuestion","_hoisted_11","_hoisted_12","_component_FontAwesomeIcon","icon","saveIcon","border","colspan","$props","AOS","parentIndex","onClick","removeIcon","prompt","onInput","target","options","option","index","onInputOption","length_offset","onInputLength","plusIcon","props","Object","Function","components","FontAwesomeIcon","data","faPlus","faTrashCan","methods","event","this","__exports__","addService","duration","employee_ids","newAOSs","proOptions","body","JSON","stringify","category_id","parseDate","client_can_book","added_service_id","serviceInfo","isFetched","Boolean","AOSsEdit","faCheck","prop","splice","service_id","$router","created","$route","params","Promise","all","render"],"sourceRoot":""}